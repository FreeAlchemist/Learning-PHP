<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
</head>
<body>
<script>
/*https://regex101.com/*/
	// console.log("Exercise 01: Hello World 100");
	// function hello(step1){
	// 	var step1 = step1 || 11;
	// 	for (var i = 0; i < step1; i++) {
	// 		console.log("Hello World!");
	// 	};
	// }
	// hello(12);
	// console.log(" ");


	// console.log("Exercise 02: Факториал");
	// function fact(num){
	// 	// alert(typeof(num));
	// 	if(typeof(num) == 'number'){
	// 		if(num > 0){
	// 			var result = 1;
	// 			for (var i = 1; i <= num; i++) {
	// 				result = result * i;
	// 			}
	// 			return result;
	// 		}
	// 		else{console.log("Укажите положительное число!")}
	// 	}
	// 	else{console.log("Укажите число!")}
	// }
	// console.log("Факториал числа равен: "+fact(5));
	// console.log(" ");


	// console.log("Exercise 03: Последовательность Фибоначчи");
	// function fibo(num){
	// 	var result1=1;
	// 	var result2=1;
	// 	var result3;
	// 	console.log("Фибоначчи: "+ result1);
	// 	for (var i = 1; i < num; i++) {
	// 		result3 = result1 + result2;
	// 		result1 = result2;
	// 		result2 = result3;
	// 		console.log("Фибоначчи: "+ result1);
	// 	}
	// 	console.log(" ");
	// }
	// function fibo2(num){
	// 	var result1=1;
	// 	var result2=1;
	// 	var result3=-Infinity;
	// 	console.log("Фибоначчи: "+ result1);
	// 	console.log("Фибоначчи: "+ result2);
	// 	while (true) {
	// 		result3 = result1 + result2;
	// 		if(result3 >= num){break;}
	// 		result1 = result2;
	// 		result2 = result3;
	// 		console.log("Фибоначчи: "+ result3);
	// 	}
	// }
	// fibo(15);
	// fibo2(15);
	// console.log(" ");


	console.log("Exercise 04: Полиморфизм");
	console.log(" ");
	
	function A(){this.f="food";}
	A.prototype.Eat = function(){console.log(this.f);}
	a = new A;

	B.prototype = new  A;
	B.prototype.constructor = B;
	function B(){
		A.call(this);
		this.f="milk";
	}
	b = new B;

	C.prototype = new  B;
	C.prototype.constructor = C;
	function C(){
		B.call(this);
		this.f="herbs";
	}	
	c = new C;

	D.prototype = new  C;
	D.prototype.constructor = D;
	function D(){
		C.call(this);
		this.f="fish";
	}
	d = new D;
	// console.log((b instanceof A) + ',' + (b instanceof B) + ',' + (c instanceof B) + ',' + (d instanceof C));
	a.Eat();
	b.Eat();
	c.Eat();
	d.Eat();
	console.log(" ");
	console.log(" ");


	console.log("Exercise 05: Считаем слова и символы");
	var str="Строка? ?для, подсчета; слов..  и !символов   в\n девяти словах";
	var nocount = ['.',',',' ',"\t","\n","\r",';',':','!','?'];
	var word="";
	var wordarr = [];
	console.log("str: ");
	console.log(str);
	console.log("str.length: ");
	console.log(str.length);
	console.log("Количество символов с разделителями: " + str.length);

	var obj={};

	for(var i = 0; i < str.length; i++){
		if(nocount.indexOf(str.charAt(i))==-1){
			if(!obj[str.charAt(i)]){
				obj[str.charAt(i)]=1;
			}
			else{
				obj[str.charAt(i)]++;
			}
		word += str.charAt(i);
		}
		else{
			if(word.length>0){
				wordarr.push(word);
			}
			word="";
		}
	}
	if(word.length>0){
		wordarr.push(word);
	}

	for(var i in obj){
		console.log("Cимвол \("+i+"\) встречается: " + obj[i]);
	}
	console.log("wordarr: " , wordarr);
	console.log("Количество слов: " + wordarr.length);
	console.log(" ");
	console.log(" ");


	console.log("Exercise 06: Удаляем повторы");
	console.log(" ");
	/*Удалить все "а"*/
	/*Удалить все повторяющиеся "т"*/
	var str="Строка са паовттторяющимися таттаатттаааа абвтттттттт";
	word = "";
	word2 = "";
	var obj={};
	for(var i = 0; i < str.length; i++){
		if(str.charAt(i) !== "а"){
			word += str.charAt(i);
		}

		if(str.charAt(i) !== "т"){
			word2 += str.charAt(i);
		}
		else{
			if(str.charAt(i-1) !== "т"){
			word2 += str.charAt(i);
			}
		}
	}
	console.log("str: " + str);
	console.log(" ");
	console.log("Без \"а\": " + word);
	console.log(" ");
	console.log("Без повтора \"т\": " + word2);
	console.log(" ");
	console.log(" ");


	console.log("Exercise 07: Проверяем скобки мат. выражения");
	console.log(" ");

	function func(m){
		var leftcount=0;
		var rightcount=0;
		for(var i = 0; i < m.length; i++){
			if(m.charAt(i)=="("){
				leftcount++;
			}
			if(m.charAt(i)==")"){
				rightcount++;
				if(rightcount > leftcount){
					console.log(m+" Неверно1"+" leftcount: "+leftcount+" rightcount: "+rightcount)
					return;
				}
			}
		}
		
		if(leftcount==rightcount){
			console.log(m+" Верно"+" leftcount: "+leftcount+" rightcount: "+rightcount)
		}
		else{
			console.log(m+" Неверно2"+" leftcount: "+leftcount+" rightcount: "+rightcount)
		}
	}
	func("a+b+c)");
	func("(b+(c+a))");
	func("b+(c+a))");
	func("(a+b)+(a+b)");
	func("(a+b)+a+b)");
	func("()a+b)+(a+b()");
	func(")(a+b+c)(");
	console.log(" ");
	console.log(" ");
	
</script>
</body>
</html>
